# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/dma/nxp,lpc3220-dmamux.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: DMA multiplexer for LPC32XX SoC (DMA request router)

maintainers:
  - J.M.B. Downing <jonathan.downing@nautel.com>
  - Piotr Wojtaszczyk <piotr.wojtaszczyk@timesys.com>

allOf:
  - $ref: dma-router.yaml#

properties:
  "#dma-cells":
    const: 3
    description: |
      First two cells same as for device pointed in dma-masters.
      Third cell represents mux value for the request.

  compatible:
    const: nxp,lpc3220-dmamux

  dma-masters:
    description: phandle to a dma node compatible with arm,pl080

  reg:
    maxItems: 1

required:
  - compatible
  - reg
  - dma-masters

additionalProperties: false

examples:
  - |
    syscon@40004000 {
      compatible = "nxp,lpc3220-creg", "syscon", "simple-mfd";
      reg = <0x40004000 0x114>;
      ranges = <0 0x40004000 0x114>;
      #address-cells = <1>;
      #size-cells = <1>;

      dma-router@7c {
        compatible = "nxp,lpc3220-dmamux";
        reg = <0x7c 0x8>;
        #dma-cells = <3>;
        dma-masters = <&dma>;
      };
    };

...
